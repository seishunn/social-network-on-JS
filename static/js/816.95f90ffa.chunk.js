"use strict";(self.webpackChunksoc_net=self.webpackChunksoc_net||[]).push([[816],{7193:function(e,n,s){s.d(n,{D:function(){return h}});var r=s(8683),t=s(5671),a=s(3144),o=s(136),i=s(516),u=s(2791),c=s(8687),l=s(7689),g=s(184),p=function(e){return{isAuth:e.auth.isAuth}},h=function(e){var n=function(n){(0,o.Z)(u,n);var s=(0,i.Z)(u);function u(){return(0,t.Z)(this,u),s.apply(this,arguments)}return(0,a.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,g.jsx)(e,(0,r.Z)({},this.props)):(0,g.jsx)(l.Fg,{to:"/login"})}}]),u}(u.Component);return(0,c.$j)(p,{})(n)}},2816:function(e,n,s){s.r(n),s.d(n,{UsersClassAPIComponent:function(){return G},default:function(){return H}});var r=s(5671),t=s(3144),a=s(136),o=s(516),i=s(8687),u=s(5987),c="Users_main__6WVh9",l="Users_mainContainer__0-IlP",g="Users_title__Y1X0i",p="Users_users__nMS5y",h="User_user__r7xsb",d="User_userLeft__B-gD2",f="User_userRight__iyM06",_="User_link__AGA6y",P="User_name__ADqnO",m="User_avatar__pWkt6",C="User_avatarStatus__HXrf6",v="User_userInfo__mEsok",x="User_status__ZOBAN",j="User_userFetching__iKdPI",U="User_addUser__PXymE",w="User_removeUser__4WZoq",N=s(4352),k=s(1087),I=s(184),S=function(e){var n;return(0,I.jsx)(k.OL,{to:"/profile/".concat(e.id),children:(0,I.jsxs)("div",{className:h,children:[(0,I.jsxs)("div",{className:d,children:[(0,I.jsxs)("div",{className:m,children:[(0,I.jsx)("img",{src:null!==e&&void 0!==e&&null!==(n=e.photos)&&void 0!==n&&n.small?null===e||void 0===e?void 0:e.photos.small:N,alt:""}),(0,I.jsx)("span",{className:C})]}),(0,I.jsxs)("div",{className:v,children:[(0,I.jsxs)("div",{className:P,children:[e.name,(0,I.jsxs)("span",{children:["#",e.id]})]}),(0,I.jsx)("div",{className:x,children:e.status})]})]}),(0,I.jsxs)("div",{className:f,onClick:function(e){return e.preventDefault()},children:[(0,I.jsx)(k.OL,{to:"/dialogs/".concat(e.id),className:"".concat(_," ").concat(j),children:(0,I.jsx)("img",{src:"https://super.so/icon/light/message-square.svg",alt:""})}),e.followed?(0,I.jsx)("button",{disabled:e.followingInProgress.some((function(n){return n===e.id})),className:"".concat(_," ").concat(e.followingInProgress.some((function(n){return n===e.id}))?j:w),onClick:function(){e.unfollow(e.id)},children:(0,I.jsx)("img",{src:"https://super.so/icon/light/user-x.svg",alt:""})}):(0,I.jsx)("button",{disabled:e.followingInProgress.some((function(n){return n===e.id})),className:"".concat(_," ").concat(e.followingInProgress.some((function(n){return n===e.id}))?j:U),onClick:function(){e.follow(e.id)},children:(0,I.jsx)("img",{src:"https://super.so/icon/light/user-plus.svg",alt:""})})]})]})})},Z=s(885),z={pages:"Paginator_pages__rTxEX",spread:"Paginator_spread__NRe-U",changePage:"Paginator_changePage__fKQ91"},F="Page_page__iAemS",A="Page_active__FeCIY",b=["onClick"],y=function(e){var n=e.onClick,s=(0,u.Z)(e,b);return(0,I.jsx)("div",{className:F+" "+(s.currentPage===s.page?A:""),onClick:function(){s.pageChanged(s.page),n&&n()},children:s.page},s.page)},D=s(2791),M=["totalItemsCount","pageSize","portionSize"],q=function(e){for(var n=e.totalItemsCount,s=e.pageSize,r=e.portionSize,t=void 0===r?10:r,a=(0,u.Z)(e,M),o=Math.ceil(n/s),i=[],c=1;c<=o;c++)i.push(c);var l=Math.ceil(o/t),g=(0,D.useState)(1),p=(0,Z.Z)(g,2),h=p[0],d=p[1],f=(h-1)*t+1,_=h*t;return(0,I.jsxs)("div",{className:z.pages,children:[f>1&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("button",{className:z.changePage+" "+z.leftPage,onClick:function(){return d(h-1)},children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),(0,I.jsx)(y,{page:1,currentPage:a.currentPage,changeCurrentPage:a.changeCurrentPage,pageChanged:a.pageChanged,onClick:function(){return d(1)}},1),(0,I.jsx)("div",{className:z.spread,children:"..."})]}),i.filter((function(e){return e>=f&&e<=_})).map((function(e){return(0,I.jsx)(y,{page:e,currentPage:a.currentPage,changeCurrentPage:a.changeCurrentPage,pageChanged:a.pageChanged},e)})),l>h&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:z.spread,children:"..."}),(0,I.jsx)(y,{page:o,currentPage:a.currentPage,changeCurrentPage:a.changeCurrentPage,pageChanged:a.pageChanged,onClick:function(){return d(l)}},o),(0,I.jsx)("button",{className:z.changePage+" "+z.rightPage,onClick:function(){return d(h+1)},children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})]})]})},O=["totalUsersCount","pageSize","pageChanged","changeCurrentPage","currentPage"],X=function(e){var n=e.totalUsersCount,s=e.pageSize,r=e.pageChanged,t=e.changeCurrentPage,a=e.currentPage,o=(0,u.Z)(e,O),i=o.users.map((function(e){return(0,I.jsx)(S,{id:e.id,name:e.name,status:e.status,photos:e.photos,followed:e.followed,follow:o.follow,unfollow:o.unfollow,toggleFollowingProgress:o.toggleFollowingProgress,followingInProgress:o.followingInProgress},e.id)}));return(0,I.jsx)("div",{className:c,children:(0,I.jsxs)("div",{className:l,children:[(0,I.jsx)("div",{className:g,children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),(0,I.jsx)(q,{currentPage:a,changeCurrentPage:t,pageChanged:r,totalItemsCount:n,pageSize:s}),(0,I.jsx)("div",{className:p,children:i})]})})},E=s(2338),L=s(493),W=s(7781),Y=(s(7193),s(3035),function(e){return e.usersPage.users}),B=function(e){return e.usersPage.pageSize},K=function(e){return e.usersPage.totalUsersCount},R=function(e){return e.usersPage.currentPage},V=function(e){return e.usersPage.isFetching},$=function(e){return e.usersPage.followingInProgress},G=function(e){(0,a.Z)(s,e);var n=(0,o.Z)(s);function s(){var e;(0,r.Z)(this,s);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).componentDidMount=function(){e.props.getUsers(e.props.currentPage,e.props.pageSize)},e.onPageChanged=function(n){e.props.changeCurrentPage(n),e.props.getUsers(n,e.props.pageSize)},e}return(0,t.Z)(s,[{key:"render",value:function(){return(0,I.jsxs)(I.Fragment,{children:[this.props.isFetching?(0,I.jsx)(L.p,{}):null,(0,I.jsx)(X,{pageChanged:this.onPageChanged,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,currentPage:this.props.currentPage,follow:this.props.followUser,unfollow:this.props.unfollowUser,followingInProgress:this.props.followingInProgress})]})}}]),s}(D.Component),H=(0,W.qC)((0,i.$j)((function(e){return{users:Y(e),pageSize:B(e),totalUsersCount:K(e),currentPage:R(e),isFetching:V(e),followingInProgress:$(e)}}),{followUser:E.V1,unfollowUser:E.gJ,changeCurrentPage:E._Y,getUsers:E.Uk}))(G)}}]);
//# sourceMappingURL=816.95f90ffa.chunk.js.map