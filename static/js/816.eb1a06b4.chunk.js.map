{"version":3,"file":"static/js/816.eb1a06b4.chunk.js","mappings":"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","sources":["HOC/withAuthRedirect.js","webpack://soc-net/./src/components/Users/Users.module.css?b9d0","webpack://soc-net/./src/components/Users/User/User.module.css?cfea","components/Users/User/User.js","webpack://soc-net/./src/common/Paginator/Paginator.module.css?abf7","webpack://soc-net/./src/common/Paginator/Page/Page.module.css?eab1","common/Paginator/Page/Page.js","common/Paginator/Paginator.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.js"],"sourcesContent":["import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Navigate} from \"react-router-dom\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return (\r\n                    <Navigate to={'/login'}/>\r\n                )\r\n            } else {\r\n                return (\r\n                    <Component {...this.props}/>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps, {})(RedirectComponent)\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"Users_main__6WVh9\",\"mainContainer\":\"Users_mainContainer__0-IlP\",\"blocked\":\"Users_blocked__cSw4K\",\"title\":\"Users_title__Y1X0i\",\"users\":\"Users_users__nMS5y\"};","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"User_user__r7xsb\",\"userLeft\":\"User_userLeft__B-gD2\",\"userRight\":\"User_userRight__iyM06\",\"link\":\"User_link__AGA6y\",\"name\":\"User_name__ADqnO\",\"avatar\":\"User_avatar__pWkt6\",\"avatarStatus\":\"User_avatarStatus__HXrf6\",\"userInfo\":\"User_userInfo__mEsok\",\"status\":\"User_status__ZOBAN\",\"userFetching\":\"User_userFetching__iKdPI\",\"addUser\":\"User_addUser__PXymE\",\"removeUser\":\"User_removeUser__4WZoq\"};","import style from \"./User.module.css\"\r\nimport DiscordLogo from \"../../../assets/c09a43a372ba81e3018c3151d4ed4773.png\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const User = (props) => {\r\n    return (\r\n        <NavLink to={`/profile/${props.id}`}>\r\n            <div className={style.user}>\r\n                <div className={style.userLeft}>\r\n                    <div className={style.avatar}>\r\n                        <img\r\n                            src={\r\n                                props?.photos?.small\r\n                                    ? props?.photos.small\r\n                                    : DiscordLogo\r\n                            }\r\n                            alt=\"\"/>\r\n                        <span className={style.avatarStatus}></span>\r\n                    </div>\r\n                    <div className={style.userInfo}>\r\n                        <div className={style.name}>{props.name}<span>#{props.id}</span></div>\r\n                        <div className={style.status}>{props.status}</div>\r\n                    </div>\r\n                </div>\r\n                <div className={style.userRight} onClick={e => e.preventDefault()}>\r\n                    <NavLink\r\n                        to={`/dialogs/${props.id}`}\r\n                        className={`${style.link} ${style.userFetching}`}\r\n                    >\r\n                        <img src=\"https://super.so/icon/light/message-square.svg\" alt=\"\"/>\r\n                    </NavLink>\r\n                    {props.followed\r\n                        ? <button\r\n                            disabled={props.followingInProgress.some(id => id === props.id)}\r\n                            className={`${style.link} ${props.followingInProgress.some(id => id === props.id) ? style.userFetching : style.removeUser}`}\r\n                            onClick={() => {\r\n                                props.unfollow(props.id);\r\n                            }}\r\n                        >\r\n                            <img src=\"https://super.so/icon/light/user-x.svg\" alt=\"\"/>\r\n                        </button>\r\n                        : <button\r\n                            disabled={props.followingInProgress.some(id => id === props.id)}\r\n                            className={`${style.link} ${props.followingInProgress.some(id => id === props.id) ? style.userFetching : style.addUser}`}\r\n                            onClick={() => {\r\n                                props.follow(props.id);\r\n                            }}\r\n                        >\r\n                            <img src=\"https://super.so/icon/light/user-plus.svg\" alt=\"\"/>\r\n                        </button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </NavLink>\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"pages\":\"Paginator_pages__rTxEX\"};","// extracted by mini-css-extract-plugin\nexport default {\"page\":\"Page_page__iAemS\",\"active\":\"Page_active__FeCIY\"};","import style from \"./Page.module.css\";\r\n\r\nexport const Page = (props) => {\r\n    return (\r\n        <div\r\n            key={props.page}\r\n            className={style.page + ' ' + (props.currentPage === props.page ? style.active : '')}\r\n            onClick={() => props.pageChanged(props.page)}\r\n        >{props.page}</div>\r\n    )\r\n}","import style from \"./Paginator.module.css\";\r\nimport {Page} from \"./Page/Page\";\r\nimport {useState} from \"react\";\r\n\r\nexport const Paginator = ({totalItemsCount, pageSize, portionSize = 30, ...props}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={style.pages}>\r\n            {leftPortionNumber > 1 &&\r\n                <button\r\n                    className={style.changePage + ' ' + style.leftPage}\r\n                    onClick={() => setPortionNumber(portionNumber - 1)}\r\n                >Предыдущая страница</button>}\r\n            {pages\r\n                .filter(page => page >= leftPortionNumber && page <= rightPortionNumber)\r\n                .map(page => (\r\n                    <Page\r\n                        key={page}\r\n                        page={page}\r\n                        currentPage={props.currentPage}\r\n                        changeCurrentPage={props.changeCurrentPage}\r\n                        pageChanged={props.pageChanged}\r\n                    />\r\n                ))}\r\n            {portionCount > portionNumber &&\r\n                <button\r\n                    className={style.changePage + ' ' + style.rightPage}\r\n                    onClick={() => setPortionNumber(portionNumber + 1)}\r\n                >Следующая страница</button>\r\n            }\r\n        </div>\r\n    )\r\n}","import style from \"./Users.module.css\"\r\nimport {User} from \"./User/User\";\r\nimport {Paginator} from \"../../common/Paginator/Paginator\";\r\nimport React from \"react\";\r\n\r\nexport const Users = ({totalUsersCount, pageSize, pageChanged, changeCurrentPage, currentPage, ...props}) => {\r\n    const usersList = props.users.map(user => (\r\n        <User\r\n            id={user.id}\r\n            key={user.id}\r\n            name={user.name}\r\n            status={user.status}\r\n            photos={user.photos}\r\n            followed={user.followed}\r\n            follow={props.follow}\r\n            unfollow={props.unfollow}\r\n            toggleFollowingProgress={props.toggleFollowingProgress}\r\n            followingInProgress={props.followingInProgress}\r\n        />)\r\n    );\r\n\r\n    return (\r\n        <div className={style.main}>\r\n            <div className={style.mainContainer}>\r\n                <div className={style.title}>\r\n                    Пользователи\r\n                </div>\r\n                <Paginator\r\n                    currentPage={currentPage}\r\n                    changeCurrentPage={changeCurrentPage}\r\n                    pageChanged={pageChanged}\r\n                    totalItemsCount={totalUsersCount}\r\n                    pageSize={pageSize}\r\n                />\r\n                <div className={style.users}>\r\n                    {usersList}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import {connect} from \"react-redux\";\r\nimport {Users} from \"./Users\";\r\nimport {\r\n    followUserThunkCreator,\r\n    getUsersThunkCreator,\r\n    setCurrentPageActionCreator,\r\n    unfollowUserThunkCreator\r\n} from \"../../redux/users-reducer\";\r\nimport React from \"react\";\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {dialogsAPI} from \"../../API/API\";\r\nimport {\r\n    getCurrentPage, getFetching,\r\n    getFollowingInProgress,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n// Первая контейнерная компонента, для получения списка пользователей при вмонтировании. (2 уровень)\r\nexport class UsersClassAPIComponent extends React.Component {\r\n    componentDidMount = () => {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n    onPageChanged = (page) => {\r\n        this.props.changeCurrentPage(page);\r\n        this.props.getUsers(page, this.props.pageSize);\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching? <Preloader/> : null}\r\n                <Users\r\n                    pageChanged={this.onPageChanged}\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    users={this.props.users}\r\n                    currentPage={this.props.currentPage}\r\n                    follow={this.props.followUser}\r\n                    unfollow={this.props.unfollowUser}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n// Вторая контейнерная компонента, для работы с store. (1 уровень - главная)\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        followUser: followUserThunkCreator,\r\n        unfollowUser: unfollowUserThunkCreator,\r\n        changeCurrentPage: setCurrentPageActionCreator,\r\n        getUsers: getUsersThunkCreator,\r\n    })\r\n)(UsersClassAPIComponent)"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","User","id","className","style","src","photos","small","DiscordLogo","alt","name","status","onClick","e","preventDefault","followed","disabled","followingInProgress","some","unfollow","follow","Page","currentPage","page","pageChanged","Paginator","totalItemsCount","pageSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","filter","map","changeCurrentPage","Users","totalUsersCount","usersList","users","user","toggleFollowingProgress","getUsers","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getFetching","isFetching","getFollowingInProgress","UsersClassAPIComponent","componentDidMount","onPageChanged","Preloader","followUser","unfollowUser","compose","followUserThunkCreator","unfollowUserThunkCreator","setCurrentPageActionCreator","getUsersThunkCreator"],"sourceRoot":""}