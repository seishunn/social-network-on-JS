"use strict";(self.webpackChunksoc_net=self.webpackChunksoc_net||[]).push([[816],{7193:function(e,s,n){n.d(s,{D:function(){return h}});var r=n(8683),t=n(5671),o=n(3144),a=n(136),i=n(516),u=n(2791),l=n(8687),c=n(7689),g=n(184),p=function(e){return{isAuth:e.auth.isAuth}},h=function(e){var s=function(s){(0,a.Z)(u,s);var n=(0,i.Z)(u);function u(){return(0,t.Z)(this,u),n.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,g.jsx)(e,(0,r.Z)({},this.props)):(0,g.jsx)(c.Fg,{to:"/login"})}}]),u}(u.Component);return(0,l.$j)(p,{})(s)}},2816:function(e,s,n){n.r(s),n.d(s,{UsersClassAPIComponent:function(){return H},default:function(){return J}});var r=n(5671),t=n(3144),o=n(136),a=n(516),i=n(8687),u=n(5987),l="Users_main__6WVh9",c="Users_mainContainer__0-IlP",g="Users_title__Y1X0i",p="Users_users__nMS5y",h="User_user__r7xsb",d="User_userLeft__B-gD2",f="User_userRight__iyM06",_="User_link__AGA6y",m="User_name__ADqnO",P="User_avatar__pWkt6",C="User_avatarStatus__HXrf6",v="User_userInfo__mEsok",x="User_status__ZOBAN",j="User_userFetching__iKdPI",U="User_addUser__PXymE",w="User_removeUser__4WZoq",N=n(4352),I=n(1087),S=n(184),k=function(e){var s;return(0,S.jsx)(I.OL,{to:"/profile/".concat(e.id),children:(0,S.jsxs)("div",{className:h,children:[(0,S.jsxs)("div",{className:d,children:[(0,S.jsxs)("div",{className:P,children:[(0,S.jsx)("img",{src:null!==e&&void 0!==e&&null!==(s=e.photos)&&void 0!==s&&s.small?null===e||void 0===e?void 0:e.photos.small:N,alt:""}),(0,S.jsx)("span",{className:C})]}),(0,S.jsxs)("div",{className:v,children:[(0,S.jsxs)("div",{className:m,children:[e.name,(0,S.jsxs)("span",{children:["#",e.id]})]}),(0,S.jsx)("div",{className:x,children:e.status})]})]}),(0,S.jsxs)("div",{className:f,onClick:function(e){return e.preventDefault()},children:[(0,S.jsx)(I.OL,{to:"/dialogs/".concat(e.id),className:"".concat(_," ").concat(j),children:(0,S.jsx)("img",{src:"https://super.so/icon/light/message-square.svg",alt:""})}),e.followed?(0,S.jsx)("button",{disabled:e.followingInProgress.some((function(s){return s===e.id})),className:"".concat(_," ").concat(e.followingInProgress.some((function(s){return s===e.id}))?j:w),onClick:function(){e.unfollow(e.id)},children:(0,S.jsx)("img",{src:"https://super.so/icon/light/user-x.svg",alt:""})}):(0,S.jsx)("button",{disabled:e.followingInProgress.some((function(s){return s===e.id})),className:"".concat(_," ").concat(e.followingInProgress.some((function(s){return s===e.id}))?j:U),onClick:function(){e.follow(e.id)},children:(0,S.jsx)("img",{src:"https://super.so/icon/light/user-plus.svg",alt:""})})]})]})})},Z=n(885),z={pages:"Paginator_pages__rTxEX"},A="Page_page__iAemS",b="Page_active__FeCIY",y=function(e){return(0,S.jsx)("div",{className:A+" "+(e.currentPage===e.page?b:""),onClick:function(){return e.pageChanged(e.page)},children:e.page},e.page)},F=n(2791),D=["totalItemsCount","pageSize","portionSize"],M=function(e){for(var s=e.totalItemsCount,n=e.pageSize,r=e.portionSize,t=void 0===r?30:r,o=(0,u.Z)(e,D),a=Math.ceil(s/n),i=[],l=1;l<=a;l++)i.push(l);var c=Math.ceil(a/t),g=(0,F.useState)(1),p=(0,Z.Z)(g,2),h=p[0],d=p[1],f=(h-1)*t+1,_=h*t;return(0,S.jsxs)("div",{className:z.pages,children:[f>1&&(0,S.jsx)("button",{className:z.changePage+" "+z.leftPage,onClick:function(){return d(h-1)},children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),i.filter((function(e){return e>=f&&e<=_})).map((function(e){return(0,S.jsx)(y,{page:e,currentPage:o.currentPage,changeCurrentPage:o.changeCurrentPage,pageChanged:o.pageChanged},e)})),c>h&&(0,S.jsx)("button",{className:z.changePage+" "+z.rightPage,onClick:function(){return d(h+1)},children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})]})},q=["totalUsersCount","pageSize","pageChanged","changeCurrentPage","currentPage"],O=function(e){var s=e.totalUsersCount,n=e.pageSize,r=e.pageChanged,t=e.changeCurrentPage,o=e.currentPage,a=(0,u.Z)(e,q),i=a.users.map((function(e){return(0,S.jsx)(k,{id:e.id,name:e.name,status:e.status,photos:e.photos,followed:e.followed,follow:a.follow,unfollow:a.unfollow,toggleFollowingProgress:a.toggleFollowingProgress,followingInProgress:a.followingInProgress},e.id)}));return(0,S.jsx)("div",{className:l,children:(0,S.jsxs)("div",{className:c,children:[(0,S.jsx)("div",{className:g,children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),(0,S.jsx)(M,{currentPage:o,changeCurrentPage:t,pageChanged:r,totalItemsCount:s,pageSize:n}),(0,S.jsx)("div",{className:p,children:i})]})})},X=n(2338),E=n(493),L=n(7781),W=(n(7193),n(3035),function(e){return e.usersPage.users}),Y=function(e){return e.usersPage.pageSize},B=function(e){return e.usersPage.totalUsersCount},V=function(e){return e.usersPage.currentPage},$=function(e){return e.usersPage.isFetching},G=function(e){return e.usersPage.followingInProgress},H=function(e){(0,o.Z)(n,e);var s=(0,a.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=s.call.apply(s,[this].concat(o))).componentDidMount=function(){e.props.getUsers(e.props.currentPage,e.props.pageSize)},e.onPageChanged=function(s){e.props.changeCurrentPage(s),e.props.getUsers(s,e.props.pageSize)},e}return(0,t.Z)(n,[{key:"render",value:function(){return(0,S.jsxs)(S.Fragment,{children:[this.props.isFetching?(0,S.jsx)(E.p,{}):null,(0,S.jsx)(O,{pageChanged:this.onPageChanged,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,currentPage:this.props.currentPage,follow:this.props.followUser,unfollow:this.props.unfollowUser,followingInProgress:this.props.followingInProgress})]})}}]),n}(F.Component),J=(0,L.qC)((0,i.$j)((function(e){return{users:W(e),pageSize:Y(e),totalUsersCount:B(e),currentPage:V(e),isFetching:$(e),followingInProgress:G(e)}}),{followUser:X.V1,unfollowUser:X.gJ,changeCurrentPage:X._Y,getUsers:X.Uk}))(H)}}]);
//# sourceMappingURL=816.eb1a06b4.chunk.js.map