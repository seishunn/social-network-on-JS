"use strict";(self.webpackChunksoc_net=self.webpackChunksoc_net||[]).push([[682],{7193:function(e,t,s){s.d(t,{D:function(){return f}});var i=s(8683),n=s(5671),r=s(3144),a=s(136),o=s(516),l=s(2791),u=s(8687),c=s(7689),d=s(184),p=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){(0,a.Z)(l,t);var s=(0,o.Z)(l);function l(){return(0,n.Z)(this,l),s.apply(this,arguments)}return(0,r.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,i.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),l}(l.Component);return(0,u.$j)(p,{})(t)}},250:function(e,t,s){s.d(t,{N:function(){return p}});var i="AddItemArea_addItemInput__PqZC7",n="AddItemArea_scrollBar__gj14p",r="AddItemArea_textArea__NmFNC",a="AddItemArea_btnAdd__-WEpj",o=s(6139),l=s(5304),u=s(8005),c=s(184),d=(0,l.D)(100),p=function(e){var t;return(0,c.jsx)("div",{className:i,children:(0,c.jsxs)("div",{className:n,children:[(0,c.jsx)("div",{className:r,children:(0,c.jsx)(o.Z,{validate:[l.C,d],component:u.g,name:e.name,placeholder:e.userName?"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c @".concat(null!==(t=e.userName)&&void 0!==t?t:"User"):"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442",value:e.value})}),(0,c.jsx)("button",{className:a,children:(0,c.jsx)("div",{children:"+"})})]})})}},4682:function(e,t,s){s.r(t),s.d(t,{default:function(){return q}});var i=s(8683),n=s(5671),r=s(3144),a=s(136),o=s(516),l=s(2791),u="Profile_profilePage__-Mehe",c="Profile_profile__glndg",d="LargeImage_largeImg__8sWI2",p=s(4352),f=s(184),m=function(e){var t,s;return(0,f.jsx)("div",{className:d,children:(0,f.jsx)("img",{src:(null===(t=e.photo)||void 0===t?void 0:t.large)||(null===(s=e.photo)||void 0===s?void 0:s.small)||p,alt:""})})},h=s(885),v="ProfileAvatar_profile__Cih8Z",_="ProfileAvatar_profileBlock__bM7Zo",x="ProfileAvatar_avatar__ecARD",j="ProfileAvatar_settingsBlockBackground__sbWT4",g="ProfileAvatar_settingsBlock__P-2o6",N=s(2485),P=function(e){var t,s,i=(0,l.useState)(!1),n=(0,h.Z)(i,2),r=n[0],a=n[1];return(0,f.jsx)("div",{className:v,children:(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("div",{className:x,children:(0,f.jsx)("img",{src:(null===(t=e.photo)||void 0===t?void 0:t.large)||(null===(s=e.photo)||void 0===s?void 0:s.small)||p,alt:""})}),!e.owner&&(0,f.jsx)(N.G,{onClick:function(){return a(!0)},children:"\u041d\u0430\u0441\u0442\u0440. \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),r&&(0,f.jsx)("div",{className:j,onClick:function(){return a(!1)},children:(0,f.jsx)("div",{className:g,onClick:function(e){return e.stopPropagation()},children:(0,f.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.updateProfileImage(t.target.files[0])}})})})]})})},A={name:"ProfileDescription_name__1gDdh",profileData:"ProfileDescription_profileData__igq5O",infoFooter:"ProfileDescription_infoFooter__A109F",profile:"ProfileDescription_profile__q4M6m"},I=(l.Component,function(e){var t=(0,l.useState)(!1),s=(0,h.Z)(t,2),i=s[0],n=s[1],r=(0,l.useState)(e.status),a=(0,h.Z)(r,2),o=a[0],u=a[1];return(0,l.useEffect)((function(){u(e.status)}),[e.status]),(0,f.jsxs)(f.Fragment,{children:[!i&&(0,f.jsx)("div",{className:A.status,onDoubleClick:function(){n(!0)},children:e.status||"nothing"}),i&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{type:"text",value:o,autoFocus:!0,onChange:function(e){return t=e.target.value,void u(t);var t},onBlur:function(){n(!1),e.updateStatus(o)}})})]})}),D=function(e){var t;return(0,f.jsx)("div",{className:A.profile,children:(0,f.jsxs)("div",{className:A.profileData,children:[(0,f.jsx)("div",{className:A.name,children:(0,f.jsx)("div",{children:(null===(t=e.profile)||void 0===t?void 0:t.fullName)||"Anonymous"})}),(0,f.jsx)(I,{status:e.status,updateStatus:e.updateStatus})]})})},Z=function(e){var t,s;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(m,{photo:null===(t=e.profile)||void 0===t?void 0:t.photos}),(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)(P,{photo:null===(s=e.profile)||void 0===s?void 0:s.photos,owner:e.owner,updateProfileImage:e.updateProfileImage}),(0,f.jsx)(D,{profile:e.profile,status:e.status,updateStatus:e.updateStatus})]})]})},C=s(6070),k="ProfilePosts_createPost__UAwVX",S=s(250),y=s(8708),F=(0,s(704).Z)({form:"posts"})((function(e){return(0,f.jsx)("form",{onSubmit:e.handleSubmit((function(t){e.addItemAction(t.post),t.post=""})),children:(0,f.jsx)(S.N,{value:e.value,textChangeAction:e.textChangeAction,addItemAction:e.addItemAction,name:"post"})})})),w=s(8687),T=(0,w.$j)((function(e){return{posts:e.profilePage.posts,value:e.profilePage.newPostText,profile:e.profilePage.profile}}),{addItemAction:C.Wl})((function(e){var t=e.posts.map((function(t){return(0,l.createElement)(y.J,(0,i.Z)((0,i.Z)({},t),{},{avatar:e.profile.photos.small,key:t.id}))}));return(0,f.jsxs)("div",{className:k,children:[(0,f.jsx)(F,{addItemAction:e.addItemAction}),(0,f.jsx)("ul",{children:t})]})})),U=function(e){return(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)(Z,{profile:e.profile,status:e.status,updateStatus:e.updateUserStatus,owner:e.owner,updateProfileImage:e.updateProfileImage}),(0,f.jsx)(T,{})]})},b=s(493),B=s(7193),M=s(7781),E=s(4569),W=function(e){(0,a.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.params.id;e||(e=this.props.id),this.props.getUser(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){e.params.id!==this.props.params.id&&this.refreshProfile()}},{key:"render",value:function(){return this.props.isFetching||!this.props.profile?(0,f.jsx)(b.p,{}):(0,f.jsx)(U,(0,i.Z)((0,i.Z)({},this.props),{},{owner:!!this.props.params.id}))}}]),s}(l.Component),q=(0,M.qC)((0,w.$j)((function(e){return{profile:e.profilePage.profile,isFetching:e.profilePage.isFetching,status:e.profilePage.status,id:e.auth.id}}),{getUser:C.C4,getUserStatus:C.fG,updateUserStatus:C.X8,updateProfileImage:C.BM}),B.D,E.E)(W)},8708:function(e,t,s){s.d(t,{J:function(){return h}});var i=s(5987),n="TextItem_item__lnLmw",r="TextItem_avatar__-D5fm",a="TextItem_text__I9BRV",o="TextItem_nameAndDate__SxWMt",l="TextItem_userName__InrHg",u="TextItem_postDate__uyFiT",c="TextItem_description__EuyTX",d="TextItem_noUser__FuXyC",p=s(4352),f=s(184),m=["noUser"],h=function(e){var t,s,h=e.noUser,v=(0,i.Z)(e,m);return v.addedDate&&(t=new Date(v.addedDate),s="".concat(t.getHours(),":").concat(t.getMinutes())),h?(0,f.jsx)("li",{children:(0,f.jsx)("div",{className:d,children:(0,f.jsx)("div",{className:c,children:v.message})})}):(0,f.jsx)("li",{children:(0,f.jsxs)("div",{className:n,children:[(0,f.jsx)("div",{className:r,children:(0,f.jsx)("img",{src:(null===v||void 0===v?void 0:v.avatar)||p,alt:""})}),(0,f.jsxs)("div",{className:a,children:[(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("span",{className:l,children:(null===v||void 0===v?void 0:v.name)||"Anonymous"})," ",(0,f.jsx)("span",{className:u,children:t?"".concat(t.toLocaleDateString()," ").concat(s):""})]}),(0,f.jsx)("div",{className:c,children:v.message})]})]})},v.id)}}}]);
//# sourceMappingURL=682.6c9eac4d.chunk.js.map