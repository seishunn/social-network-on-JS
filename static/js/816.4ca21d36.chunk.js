"use strict";(self.webpackChunksoc_net=self.webpackChunksoc_net||[]).push([[816],{7193:function(e,s,n){n.d(s,{D:function(){return h}});var r=n(8683),t=n(5671),a=n(3144),o=n(136),i=n(516),u=n(2791),l=n(8687),c=n(7689),g=n(184),p=function(e){return{isAuth:e.auth.isAuth}},h=function(e){var s=function(s){(0,o.Z)(u,s);var n=(0,i.Z)(u);function u(){return(0,t.Z)(this,u),n.apply(this,arguments)}return(0,a.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,g.jsx)(e,(0,r.Z)({},this.props)):(0,g.jsx)(c.Fg,{to:"/login"})}}]),u}(u.Component);return(0,l.$j)(p,{})(s)}},2816:function(e,s,n){n.r(s),n.d(s,{UsersClassAPIComponent:function(){return M},default:function(){return q}});var r=n(5671),t=n(3144),a=n(136),o=n(516),i=n(8687),u=n(5987),l="Users_main__6WVh9",c="Users_mainContainer__0-IlP",g="Users_title__Y1X0i",p="Users_users__nMS5y",h={user:"User_user__r7xsb",userLeft:"User_userLeft__B-gD2",userRight:"User_userRight__iyM06",link:"User_link__AGA6y",name:"User_name__ADqnO",avatar:"User_avatar__pWkt6",avatarStatus:"User_avatarStatus__HXrf6",status:"User_status__ZOBAN",userFetching:"User_userFetching__iKdPI",addUser:"User_addUser__PXymE",removeUser:"User_removeUser__4WZoq"},d=n(4352),f=n(1087),_=n(184),m=function(e){var s;return(0,_.jsx)(f.OL,{to:"/profile/".concat(e.id),children:(0,_.jsxs)("div",{className:h.user,children:[(0,_.jsxs)("div",{className:h.userLeft,children:[(0,_.jsxs)("div",{className:h.avatar,children:[(0,_.jsx)("img",{src:null!==e&&void 0!==e&&null!==(s=e.photos)&&void 0!==s&&s.small?null===e||void 0===e?void 0:e.photos.small:d,alt:""}),(0,_.jsx)("span",{className:h.avatarStatus})]}),(0,_.jsxs)("div",{className:h.userInfo,children:[(0,_.jsxs)("div",{className:h.name,children:[e.name,(0,_.jsxs)("span",{children:["#",e.id]})]}),(0,_.jsx)("div",{className:h.status,children:e.status})]})]}),(0,_.jsxs)("div",{className:h.userRight,onClick:function(e){return e.preventDefault()},children:[(0,_.jsx)(f.OL,{to:"/dialogs/".concat(e.id),className:"".concat(h.link," ").concat(h.userFetching),children:(0,_.jsx)("img",{src:"https://super.so/icon/light/message-square.svg",alt:""})}),e.followed?(0,_.jsx)("button",{disabled:e.followingInProgress.some((function(s){return s===e.id})),className:"".concat(h.link," ").concat(e.followingInProgress.some((function(s){return s===e.id}))?h.userFetching:h.removeUser),onClick:function(){e.unfollow(e.id)},children:(0,_.jsx)("img",{src:"https://super.so/icon/light/user-x.svg",alt:""})}):(0,_.jsx)("button",{disabled:e.followingInProgress.some((function(s){return s===e.id})),className:"".concat(h.link," ").concat(e.followingInProgress.some((function(s){return s===e.id}))?h.userFetching:h.addUser),onClick:function(){e.follow(e.id)},children:(0,_.jsx)("img",{src:"https://super.so/icon/light/user-plus.svg",alt:""})})]})]})})},P=n(885),v={pages:"Paginator_pages__rTxEX"},C="Page_page__iAemS",x="Page_active__FeCIY",U=function(e){return(0,_.jsx)("div",{className:C+" "+(e.currentPage===e.page?x:""),onClick:function(){return e.pageChanged(e.page)},children:e.page},e.page)},j=n(2791),w=["totalItemsCount","pageSize","portionSize"],N=function(e){for(var s=e.totalItemsCount,n=e.pageSize,r=e.portionSize,t=void 0===r?30:r,a=(0,u.Z)(e,w),o=Math.ceil(s/n),i=[],l=1;l<=o;l++)i.push(l);var c=Math.ceil(o/t),g=(0,j.useState)(1),p=(0,P.Z)(g,2),h=p[0],d=p[1],f=(h-1)*t+1,m=h*t;return(0,_.jsxs)("div",{className:v.pages,children:[f>1&&(0,_.jsx)("button",{className:v.changePage+" "+v.leftPage,onClick:function(){return d(h-1)},children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),i.filter((function(e){return e>=f&&e<=m})).map((function(e){return(0,_.jsx)(U,{page:e,currentPage:a.currentPage,changeCurrentPage:a.changeCurrentPage,pageChanged:a.pageChanged},e)})),c>h&&(0,_.jsx)("button",{className:v.changePage+" "+v.rightPage,onClick:function(){return d(h+1)},children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})]})},k=["totalUsersCount","pageSize","pageChanged","changeCurrentPage","currentPage"],S=function(e){var s=e.totalUsersCount,n=e.pageSize,r=e.pageChanged,t=e.changeCurrentPage,a=e.currentPage,o=(0,u.Z)(e,k),i=o.users.map((function(e){return(0,_.jsx)(m,{id:e.id,name:e.name,status:e.status,photos:e.photos,followed:e.followed,follow:o.follow,unfollow:o.unfollow,toggleFollowingProgress:o.toggleFollowingProgress,followingInProgress:o.followingInProgress},e.id)}));return(0,_.jsx)("div",{className:l,children:(0,_.jsxs)("div",{className:c,children:[(0,_.jsx)("div",{className:g,children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),(0,_.jsx)(N,{currentPage:a,changeCurrentPage:t,pageChanged:r,totalItemsCount:s,pageSize:n}),(0,_.jsx)("div",{className:p,children:i})]})})},I=n(2338),Z=n(493),z=n(7781),F=(n(7193),n(3035),function(e){return e.usersPage.users}),A=function(e){return e.usersPage.pageSize},b=function(e){return e.usersPage.totalUsersCount},y=function(e){return e.usersPage.currentPage},D=function(e){return e.usersPage.isFetching},L=function(e){return e.usersPage.followingInProgress},M=function(e){(0,a.Z)(n,e);var s=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=s.call.apply(s,[this].concat(a))).componentDidMount=function(){e.props.getUsers(e.props.currentPage,e.props.pageSize)},e.onPageChanged=function(s){e.props.changeCurrentPage(s),e.props.getUsers(s,e.props.pageSize)},e}return(0,t.Z)(n,[{key:"render",value:function(){return(0,_.jsxs)(_.Fragment,{children:[this.props.isFetching?(0,_.jsx)(Z.p,{}):null,(0,_.jsx)(S,{pageChanged:this.onPageChanged,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,currentPage:this.props.currentPage,follow:this.props.followUser,unfollow:this.props.unfollowUser,followingInProgress:this.props.followingInProgress})]})}}]),n}(j.Component),q=(0,z.qC)((0,i.$j)((function(e){return{users:F(e),pageSize:A(e),totalUsersCount:b(e),currentPage:y(e),isFetching:D(e),followingInProgress:L(e)}}),{followUser:I.V1,unfollowUser:I.gJ,changeCurrentPage:I._Y,getUsers:I.Uk}))(M)}}]);
//# sourceMappingURL=816.4ca21d36.chunk.js.map